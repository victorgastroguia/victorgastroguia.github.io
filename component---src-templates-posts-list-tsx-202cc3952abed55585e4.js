"use strict";(self.webpackChunkgatsby_starter_blog=self.webpackChunkgatsby_starter_blog||[]).push([[621],{7715:function(e,t,r){r.r(t),r.d(t,{Head:function(){return p},default:function(){return h}});var l=r(7294),a=r(1883),o=r(656),n=r(4001),s=r(4842);let i=function(){function e(){}var t=e.prototype;return t.createCategoryUrl=function(e){return"/"+this.removeBoundsSlashes(e)},t.createFoodCategoryUrl=function(e){return"/tipus-de-menjar/"+this.removeBoundsSlashes(e)},t.createNeighbourhoodUrl=function(e){const t=this.removeBoundsSlashes(e);return"/barri/"+t.normalize().toLowerCase().replace(/\s/g,"-")},t.removeBoundsSlashes=function(e){let t=e;return"/"===t[0]&&(t=t.slice(1)),"/"===t[t.length-1]&&(t=t.slice(0,-1)),t},e}();const c=new Map([["gastro","🍴"],["llengua","👅"],["llibres","📖"],["software","👨🏻‍💻"],["burger","🍔"],["esmorzar","🥖"],["ramen","🍜"],["dolç","🍰"],["sa","🥦"],["pizza","🍕"],["valencià","🥘"],["brunch","🥞"],["sudamericà","🌮"],["fusió","🌍"],["espanyol","🇪🇸"],["per emportar","🚴"]]);function u(e){var t;return null!==(t=c.get(e))&&void 0!==t?t:e}var m=e=>{let{title:t,filters:r,urlBuilder:o}=e;return l.createElement("div",{className:"filters-list"},l.createElement("span",{className:"filters-list-title"},t,":"),l.createElement("div",{className:"filters"},r.map((e=>l.createElement(a.Link,{to:o(e),className:"filter category"},u(e))))))};var d=e=>{let{children:t,titles:r}=e;const[a,o]=l.useState(!1);return l.createElement("div",{className:"collapse"},l.createElement("span",{onClick:()=>o(!a),className:"collapse-title"},r[a?1:0]),a?t:null)};const f="per emportar",g=new i;var h=e=>{let{pageContext:t,data:r,location:n}=e;const{site:{siteMetadata:i},allMarkdownRemark:{nodes:c}}=r,h=null==i?void 0:i.title;if(!h)throw new Error("A title is mandatory for every post");const p=t.categoryFolder||t.foodCategory||t.neighbourhood,E=c.filter((e=>e.fields.slug.includes("/gastro/"))),y={}.GATSBY_DEBUG?E:E.filter((e=>!e.fields.slug.includes("/drafts/"))),b=y.reduce(((e,t)=>{let{frontmatter:{foodCategory:r,neighbourhood:l}}=t;return r&&e.foodCategories.add(r),l&&e.neighbourhoods.add(l),e}),{foodCategories:new Set,neighbourhoods:new Set}),v=Array.from(b.neighbourhoods.values()).sort();return l.createElement(s.Z,{location:n,title:h},p?l.createElement("div",{id:"filter-alert"},l.createElement("p",null,"☝️ Estas filtrant per"," ",l.createElement("strong",{className:"current-filter"},t.categoryFolder&&t.categoryFolder.slice(1,-1)||t.foodCategory||t.neighbourhood,l.createElement(a.Link,{to:"/",className:"clear-filter-btn"},"❌")))):l.createElement(l.Fragment,null,l.createElement(o.Z,null),l.createElement(d,{titles:["➕ Mostra els filtres","➖ Amaga els filtres"]},l.createElement(m,{title:"Tipus de menjar",filters:Array.from(b.foodCategories.values()),urlBuilder:e=>g.createFoodCategoryUrl(e)}),l.createElement(m,{title:"Ubicació",filters:v,urlBuilder:e=>g.createNeighbourhoodUrl(e)}),l.createElement("br",null))),l.createElement("ol",{style:{listStyle:"none"}},y.map((e=>{let{frontmatter:r,fields:o,excerpt:n}=e;const{slug:s}=o,{title:i=s,foodCategory:c,neighbourhood:m,date:d,description:h}=r,E=function(e){return e.split("/").filter(Boolean)[0]}(s);return l.createElement("li",{key:s},l.createElement("article",{className:"post-list-item",itemScope:!0,itemType:"http://schema.org/Article"},l.createElement("header",null,p?null:l.createElement(a.Link,{to:g.createCategoryUrl(E),className:"filter category"},u(E)),t.foodCategory||!c?null:l.createElement(a.Link,{to:g.createFoodCategoryUrl(c),className:"filter food-category"},u(c)),t.neighbourhood||!m?null:l.createElement(a.Link,{to:g.createNeighbourhoodUrl(m),className:"filter "+(m===f?"take-away":"neighbourhood")},m===f?"🚴":m),l.createElement("h2",null,l.createElement(a.Link,{to:s,itemProp:"url"},l.createElement("span",{itemProp:"headline"},i))),l.createElement("small",null,d)),l.createElement("section",null,l.createElement("p",{dangerouslySetInnerHTML:{__html:h||n},itemProp:"description"}))))}))),p?l.createElement("footer",{className:"filtered-list-footer"},l.createElement(o.Z,null)):l.createElement(l.Fragment,null))};const p=()=>l.createElement(n.Z,{title:"Tots els articles"})}}]);
//# sourceMappingURL=component---src-templates-posts-list-tsx-202cc3952abed55585e4.js.map